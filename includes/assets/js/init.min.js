!function(e){"use strict";CHERRY_API.utilites.namespace("cherry_preset_swither"),CHERRY_API.cherry_preset_swither={ajaxRequestSuccess:!0,ajaxImportPresetRequest:null,activePresetsObject:{},init:function(){var e=this;CHERRY_API.status.is_ready?e.render():CHERRY_API.variable.$document.on("ready",e.on_ready()),CHERRY_API.status.on_load?e.render():CHERRY_API.variable.$window.on("load",e.on_load())},on_ready:function(){var t=this,s=e(".style-switcher-panel"),a=s.width(),r=e(".preset-list li"),o=e(".panel-toggle",s),i=e(".site-cover"),n=e("body"),c="false";this.isLocalStorageAvailable&&(c=localStorage.getItem("is_panel_open"),a=s.width(),"true"===c?(s.addClass("open"),s.css({right:0}),i.show(),e(".style-switcher-panel")[0]&&n.addClass("cover")):(s.removeClass("open"),s.css({right:-1*a}),i.hide()),"null"!==localStorage.getItem("active_presets")&&(t.activePresetsObject=e.parseJSON(localStorage.getItem("active_presets")),t.selectCurrentPresets(t.activePresetsObject))),r.on("click",function(){var s=e(this),a=s.parents(".preset-list").data("group"),r=s.data("preset");s.hasClass("coming-soon")||(t.activePresetsObject[a]=r,t.selectCurrentPresets(t.activePresetsObject),t.ajaxProcessImport(a,r))}),o.on("click",function(){s.toggleClass("open"),a=s.width(),s.hasClass("open")?(localStorage.setItem("is_panel_open","true"),i.fadeIn(300),n.addClass("cover"),s.css({right:0})):(localStorage.setItem("is_panel_open","false"),i.fadeOut(300),s.css({right:-1*a}),n.removeClass("cover"))}),CHERRY_API.variable.$window.on("resize.style_switcher_panel",function(){var e=s.width();s.hasClass("open")||s.css({right:-1*e})}),s.tooltip({tooltipClass:"custom-tooltip-styling",track:!0,position:{my:"left+15 center",at:"right center"},show:{duration:300,delay:200},hide:{duration:0}})},on_load:function(){var t=e(".site-preloader"),s=e(".spinner",t);s.fadeOut(),t.delay(200).fadeOut("slow")},selectCurrentPresets:function(t){localStorage.setItem("active_presets",e.toJSON(t));for(var s in t)if(t.hasOwnProperty(s)){var a=e("[data-group="+s+"]");e("li",a).removeClass("active"),e("[data-preset="+t[s]+"]",a).addClass("active")}},ajaxProcessImport:function(t,s){var a=e(".preset-spinner");localStorage.setItem("current_preset",s),null===this.ajaxImportPresetRequest&&this.ajaxRequestSuccess||this.ajaxImportPresetRequest.abort(),this.ajaxImportPresetRequest=jQuery.ajax({type:"POST",url:preset_import_ajax.url,data:{action:"cherry_preset_import",group:t,preset:s,_wpnonce:jQuery("#preset-import-nonce").val()},cache:!1,beforeSend:function(){this.ajaxRequestSuccess=!1,a.slideDown(300)},success:function(e){a.delay(400).slideUp(300,function(){this.ajaxRequestSuccess=!0}),document.location.replace(e.url)},dataType:"json"})},isLocalStorageAvailable:function(){try{return"localStorage"in window&&null!==window.localStorage}catch(e){return!1}}},CHERRY_API.cherry_preset_swither.init()}(jQuery);